PUBLIC_NOTE UTC=20260121T222225Z TITLE=CoPong Spec (PUBLIC LATEST) STATUS=CANONICAL_FOR_NOW
INTENT=Define the PS7-green one-line SideNote/CoPong format for handoffs + intra-wave transfers.
RULE (NORMATIVE)=
- A CoPong MUST be exactly one physical line (no newlines) so it can be pasted into a PS7 panel as a green comment.
- A CoPong MUST start with: "# " (pound + space).
- A CoPong MUST include FROM and TO session labels, a STATE, and (if applicable) ActionNow<=5 + PASS receipts + tiny RFA.
- Pointers inside CoPongs MUST be FULL URLs (prefer URL_RAW), per PointerSpec; never “see above/last time.”
RECOMMENDED_KEYS (order)= FROM= TO= UTC= STATE= P0= P1= HOLD= ACTIONNOW= PASS= RFA= POINTERS=
RECOMMENDED_POINTER_BLOCK (COPY/PASTE)= URL_RAW= URL_UI= SHA256= COMMIT= VISIBILITY=public|private
TEMPLATE (ONE LINE)=
# CoPong | FROM=<...> -> TO=<...> | UTC=<...> | STATE=<...> | ACTIONNOW=<max 5> | PASS=<what proves done> | RFA=<IDs/URLs/paths only> | POINTERS=URL_RAW=... VISIBILITY=...
END
# RAILS_ADDENDUM_TYPEDSECTIONRAILS UTC=20260126T040637Z
# REQUIRE: assistant output MUST use sequential typed section headers like '## 0[WaveHeader]' ... '## N[Footer]' (no jumps).
# REQUIRE: CoBux is a folder/location label, NOT a session name.
# REQUIRE: If assistant cannot provide at least one DO block, it must output only:
#   ## 0[WaveHeader] (STATE=blocked + why) and ## 1[Footer]
# END_RAILS_ADDENDUM
# RAILS_ADDENDUM_COPONG_ADDRESSING UTC=20260126T041357Z
# REQUIRE: CoPong TO= MUST be a receiver label visible to the user (examples: a specific session label like 4.0|PRIME|260125; or 4.0|PRIME|AllSessions; or a repo label like CoBusMirror).
# REQUIRE: CoPong FROM= MUST describe the sender (session/repo); DO NOT use FROM=you-to-you semantics.
# REQUIRE: FROM and TO MUST NOT be identical strings.
# END_RAILS_ADDENDUM
# RAILS_ADDENDUM_COPONG_ADDRESSING_CANON_ALL UTC=20260126T041534Z
# CANON: Use TO=4.0|PRIME|ALL for broadcast-to-CoPrime (avoid “AllSessions” label in examples).
# REQUIRE: assistant must not emit a CoPong that appears self-addressed (FROM=assistant TO=assistant) in user-visible output.
# END_RAILS_ADDENDUM
# RAILS_ADDENDUM_COPONG_ADDRESSING_CANON_RUNTIME UTC=20260126T042535Z
# CANON (NOW): Use TO=4.0|PRIME|260125 for broadcast-to-CoPrime (because only one PRIME session is active now).
# ALLOW (LATER): TO=4.0|PRIME|ALL is allowed only when multiple PRIME sessions exist (do not imply they exist).
# ALLOW: TO may be an active non-PRIME session label (examples: CoHalo, CoShare_Migration_2) when the receiver is that session.
# REQUIRE: Do NOT emit user-visible CoPongs that appear self-addressed (FROM=assistant TO=assistant).
# REQUIRE: Prefer not to overload the user as a relay while CoBus is still settling; keep CoPongs self-contained with URLs/SHAs when possible.
# END_RAILS_ADDENDUM